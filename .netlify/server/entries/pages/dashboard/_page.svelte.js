import { c as create_ssr_component, e as escape, a as subscribe, d as each, b as add_attribute, v as validate_component, n as null_to_empty } from "../../../chunks/ssr.js";
import "../../../chunks/firebase.js";
import "firebase/firestore";
import "firebase/auth";
import { w as writable } from "../../../chunks/index.js";
const authStore = writable({
  user: null,
  loading: true,
  data: {}
});
const css$1 = {
  code: ".toDo.svelte-1pljzwv.svelte-1pljzwv{border-left:1px solid cyan;padding:8px 14px;display:flex;align-items:center;justify-content:space-between}.actions.svelte-1pljzwv.svelte-1pljzwv{display:flex;align-items:center;gap:8px;font-size:1.3rem}.actions.svelte-1pljzwv i.svelte-1pljzwv{cursor:pointer}.actions.svelte-1pljzwv i.svelte-1pljzwv:hover{color:coral}",
  map: '{"version":3,"file":"ToDoItem.svelte","sources":["ToDoItem.svelte"],"sourcesContent":["<script>\\r\\n    export let index\\r\\n    export let todo\\r\\n    export let editToDo\\r\\n    export let removeToDo\\r\\n<\/script>\\r\\n\\r\\n<div class=\\"toDo\\">\\r\\n    {index+1}. {todo}\\r\\n    <div class=\\"actions\\">\\r\\n        <!-- svelte-ignore a11y-no-static-element-interactions -->\\r\\n        <i \\r\\n            on:click={() => editToDo(index)}\\r\\n            on:keydown={() => {}}\\r\\n            class=\\"fa-regular fa-pen-to-square\\"\\r\\n        />\\r\\n        <!-- svelte-ignore a11y-no-static-element-interactions -->\\r\\n        <i\\r\\n            on:click={() => removeToDo(index)}\\r\\n            on:keydown={() => {}}\\r\\n            class=\\"fa-regular fa-trash-can\\"\\r\\n        />\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<style>\\r\\n    .toDo {\\r\\n        border-left: 1px solid cyan;\\r\\n        padding: 8px 14px;\\r\\n        display: flex;\\r\\n        align-items: center;\\r\\n        justify-content: space-between;\\r\\n    }\\r\\n\\r\\n    .actions {\\r\\n        display: flex;\\r\\n        align-items: center;\\r\\n        gap: 8px;\\r\\n        font-size: 1.3rem;\\r\\n    }\\r\\n\\r\\n    .actions i {\\r\\n        cursor: pointer;\\r\\n    }\\r\\n\\r\\n    .actions i:hover {\\r\\n        color: coral;\\r\\n    }\\r\\n</style>"],"names":[],"mappings":"AA0BI,mCAAM,CACF,WAAW,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CAC3B,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,aACrB,CAEA,sCAAS,CACL,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,GAAG,CACR,SAAS,CAAE,MACf,CAEA,uBAAQ,CAAC,gBAAE,CACP,MAAM,CAAE,OACZ,CAEA,uBAAQ,CAAC,gBAAC,MAAO,CACb,KAAK,CAAE,KACX"}'
};
const ToDoItem = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let { index } = $$props;
  let { todo } = $$props;
  let { editToDo } = $$props;
  let { removeToDo } = $$props;
  if ($$props.index === void 0 && $$bindings.index && index !== void 0)
    $$bindings.index(index);
  if ($$props.todo === void 0 && $$bindings.todo && todo !== void 0)
    $$bindings.todo(todo);
  if ($$props.editToDo === void 0 && $$bindings.editToDo && editToDo !== void 0)
    $$bindings.editToDo(editToDo);
  if ($$props.removeToDo === void 0 && $$bindings.removeToDo && removeToDo !== void 0)
    $$bindings.removeToDo(removeToDo);
  $$result.css.add(css$1);
  return `<div class="toDo svelte-1pljzwv">${escape(index + 1)}. ${escape(todo)} <div class="actions svelte-1pljzwv"> <i class="fa-regular fa-pen-to-square svelte-1pljzwv"></i>  <i class="fa-regular fa-trash-can svelte-1pljzwv"></i></div> </div>`;
});
const css = {
  code: ".mainContainer.svelte-15gcum0.svelte-15gcum0{display:flex;flex-direction:column;min-height:100vh;gap:24px;padding:24px;width:100%;max-width:1000px;margin:0 auto}.headerContainer.svelte-15gcum0.svelte-15gcum0{display:flex;align-items:center;justify-content:space-between}.headerBtns.svelte-15gcum0.svelte-15gcum0{display:flex;align-items:center;gap:14px}.headerContainer.svelte-15gcum0 button.svelte-15gcum0{background:#003c5b;color:white;padding:10px 18px;border:none;border-radius:4px;font-weight:700;display:flex;align-items:center;gap:10px;cursor:pointer}.headerContainer.svelte-15gcum0 button i.svelte-15gcum0{font-size:1.1rem}.headerContainer.svelte-15gcum0 button.svelte-15gcum0:hover{opacity:0.7}main.svelte-15gcum0.svelte-15gcum0{display:flex;flex-direction:column;gap:8px;flex:1}.enterToDo.svelte-15gcum0.svelte-15gcum0{display:flex;align-items:stretch;border:1px solid #0891b2;border-radius:5px;overflow:hidden}.errorBorder.svelte-15gcum0.svelte-15gcum0{border-color:coral !important}.enterToDo.svelte-15gcum0 input.svelte-15gcum0{background:transparent;border:none;padding:14px;color:#FFFFFF;flex:1}.enterToDo.svelte-15gcum0 input.svelte-15gcum0:focus{outline:none}.enterToDo.svelte-15gcum0 button.svelte-15gcum0{padding:0 28px;background:#003c5b;border:none;color:cyan;font-weight:600;cursor:pointer}.enterToDo.svelte-15gcum0 button.svelte-15gcum0:hover{background:transparent}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\r\\n    import { db } from \\"../../lib/firebase/firebase\\"\\r\\n    import { getDoc, doc, setDoc} from 'firebase/firestore';\\r\\n    import { authHandler, authStore } from \\"../../store/store\\"\\r\\n\\timport ToDoItem from \\"../../components/ToDoItem.svelte\\";\\r\\n\\r\\n    let toDoList = [];\\r\\n    let currToDo = \\"\\";\\r\\n    let error = false;\\r\\n\\r\\n    authStore.subscribe(curr => {\\r\\n        toDoList = curr.data.todos;\\r\\n    })\\r\\n\\r\\n    function addToDo() {\\r\\n        error = false;\\r\\n        if (!currToDo) {\\r\\n            error = true;\\r\\n        } else {\\r\\n            toDoList = [...toDoList, currToDo];\\r\\n            currToDo = \\"\\";\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function editToDo(index) {\\r\\n        let newToDoList = toDoList.filter((val, i) => {\\r\\n            return i !== index;\\r\\n        });\\r\\n        currToDo = toDoList[index];\\r\\n        toDoList = newToDoList;\\r\\n    }\\r\\n\\r\\n    function removeToDo(index) {\\r\\n        let newToDoList = toDoList.filter((val, i) => {\\r\\n            return i !== index;\\r\\n        });\\r\\n        toDoList = newToDoList;\\r\\n    }\\r\\n\\r\\n    async function saveToDo() {\\r\\n        try {\\r\\n            const userRef = doc(db, \\"users\\", $authStore.user.uid);\\r\\n            await setDoc(userRef,\\r\\n                {\\r\\n                    todos: toDoList,\\r\\n                }, \\r\\n                {merge: true}\\r\\n            )\\r\\n        } catch (err) {\\r\\n            console.log(\\"There waws an error in saving your information\\");\\r\\n        }\\r\\n    }\\r\\n<\/script>\\r\\n{#if !$authStore.loading}\\r\\n    <div class=\\"mainContainer\\">\\r\\n        <div class=\\"headerContainer\\">\\r\\n            <h1>To-Do List</h1>\\r\\n            <div class=\\"headerBtns\\">\\r\\n                <button on:click={saveToDo}>\\r\\n                    <i class=\\"fa-regular fa-floppy-disk\\"/>\\r\\n                    <p>Save</p>\\r\\n                </button>\\r\\n                <button on:click={authHandler.logout}>\\r\\n                    <i class=\\"fa-solid fa-right-from-bracket\\"/>\\r\\n                    <p>Logout</p>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <main>\\r\\n            {#if toDoList.length === 0}\\r\\n                <p>\\r\\n                    You have nothing to do.\\r\\n                </p>\\r\\n            {/if}\\r\\n            {#each toDoList as todo, index}\\r\\n                <ToDoItem {todo} {index} {removeToDo} {editToDo}/>\\r\\n            {/each}\\r\\n        </main>\\r\\n        <div class={\\"enterToDo \\" + (error ? \\"errorBorder\\" : \\"\\")}>\\r\\n            <input bind:value={currToDo} type=\\"text\\" placeholder=\\"Enter To-Do\\"/>\\r\\n            <button on:click={addToDo}>ADD</button>\\r\\n        </div>\\r\\n    </div>\\r\\n{/if}\\r\\n<style>\\r\\n    .mainContainer {\\r\\n        display: flex;\\r\\n        flex-direction: column;\\r\\n        min-height: 100vh;\\r\\n        gap: 24px;\\r\\n        padding: 24px;\\r\\n        width: 100%;\\r\\n        max-width: 1000px;\\r\\n        margin: 0 auto;\\r\\n    }\\r\\n\\r\\n    .headerContainer {\\r\\n        display: flex;\\r\\n        align-items: center;\\r\\n        justify-content: space-between;\\r\\n    }\\r\\n\\r\\n    .headerBtns {\\r\\n        display: flex;\\r\\n        align-items: center;\\r\\n        gap: 14px;\\r\\n    }\\r\\n\\r\\n    .headerContainer button {\\r\\n        background: #003c5b;\\r\\n        color: white;\\r\\n        padding: 10px 18px;\\r\\n        border: none;\\r\\n        border-radius: 4px;\\r\\n        font-weight: 700;\\r\\n        display: flex;\\r\\n        align-items: center;\\r\\n        gap: 10px;\\r\\n        cursor: pointer;\\r\\n    }\\r\\n\\r\\n    .headerContainer button i {\\r\\n        font-size: 1.1rem;\\r\\n    }\\r\\n\\r\\n    .headerContainer button:hover {\\r\\n        opacity: 0.7;\\r\\n    }\\r\\n\\r\\n    main {\\r\\n        display: flex;\\r\\n        flex-direction: column;\\r\\n        gap: 8px;\\r\\n        flex: 1;\\r\\n    }\\r\\n\\r\\n    .enterToDo {\\r\\n        display: flex;\\r\\n        align-items: stretch;\\r\\n        border: 1px solid #0891b2;\\r\\n        border-radius: 5px;\\r\\n        overflow: hidden;\\r\\n    }\\r\\n\\r\\n    .errorBorder {\\r\\n        border-color: coral !important;\\r\\n    }\\r\\n\\r\\n    .enterToDo input {\\r\\n        background: transparent;\\r\\n        border: none;\\r\\n        padding: 14px;\\r\\n        color: #FFFFFF;\\r\\n        flex: 1;\\r\\n    }\\r\\n\\r\\n    .enterToDo input:focus {\\r\\n        outline: none;\\r\\n\\r\\n    }\\r\\n\\r\\n    .enterToDo button {\\r\\n        padding: 0 28px;\\r\\n        background: #003c5b;\\r\\n        border: none;\\r\\n        color: cyan;\\r\\n        font-weight: 600;\\r\\n        cursor: pointer;\\r\\n    }\\r\\n\\r\\n    .enterToDo button:hover {\\r\\n        background: transparent;\\r\\n    }\\r\\n</style>"],"names":[],"mappings":"AAqFI,4CAAe,CACX,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,UAAU,CAAE,KAAK,CACjB,GAAG,CAAE,IAAI,CACT,OAAO,CAAE,IAAI,CACb,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,MAAM,CACjB,MAAM,CAAE,CAAC,CAAC,IACd,CAEA,8CAAiB,CACb,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,aACrB,CAEA,yCAAY,CACR,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,IACT,CAEA,+BAAgB,CAAC,qBAAO,CACpB,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,KAAK,CACZ,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,WAAW,CAAE,GAAG,CAChB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,IAAI,CACT,MAAM,CAAE,OACZ,CAEA,+BAAgB,CAAC,MAAM,CAAC,gBAAE,CACtB,SAAS,CAAE,MACf,CAEA,+BAAgB,CAAC,qBAAM,MAAO,CAC1B,OAAO,CAAE,GACb,CAEA,kCAAK,CACD,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,CACV,CAEA,wCAAW,CACP,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,OAAO,CACpB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,aAAa,CAAE,GAAG,CAClB,QAAQ,CAAE,MACd,CAEA,0CAAa,CACT,YAAY,CAAE,KAAK,CAAC,UACxB,CAEA,yBAAU,CAAC,oBAAM,CACb,UAAU,CAAE,WAAW,CACvB,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,IAAI,CACb,KAAK,CAAE,OAAO,CACd,IAAI,CAAE,CACV,CAEA,yBAAU,CAAC,oBAAK,MAAO,CACnB,OAAO,CAAE,IAEb,CAEA,yBAAU,CAAC,qBAAO,CACd,OAAO,CAAE,CAAC,CAAC,IAAI,CACf,UAAU,CAAE,OAAO,CACnB,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,CACX,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,OACZ,CAEA,yBAAU,CAAC,qBAAM,MAAO,CACpB,UAAU,CAAE,WAChB"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $authStore, $$unsubscribe_authStore;
  $$unsubscribe_authStore = subscribe(authStore, (value) => $authStore = value);
  let toDoList = [];
  let currToDo = "";
  authStore.subscribe((curr) => {
    toDoList = curr.data.todos;
  });
  function editToDo(index) {
    let newToDoList = toDoList.filter((val, i) => {
      return i !== index;
    });
    currToDo = toDoList[index];
    toDoList = newToDoList;
  }
  function removeToDo(index) {
    let newToDoList = toDoList.filter((val, i) => {
      return i !== index;
    });
    toDoList = newToDoList;
  }
  $$result.css.add(css);
  $$unsubscribe_authStore();
  return `${!$authStore.loading ? `<div class="mainContainer svelte-15gcum0"><div class="headerContainer svelte-15gcum0"><h1 data-svelte-h="svelte-1wpxep3">To-Do List</h1> <div class="headerBtns svelte-15gcum0"><button class="svelte-15gcum0" data-svelte-h="svelte-rjs8aa"><i class="fa-regular fa-floppy-disk svelte-15gcum0"></i> <p>Save</p></button> <button class="svelte-15gcum0" data-svelte-h="svelte-19pv6w1"><i class="fa-solid fa-right-from-bracket svelte-15gcum0"></i> <p>Logout</p></button></div></div> <main class="svelte-15gcum0">${toDoList.length === 0 ? `<p data-svelte-h="svelte-1mfhsue">You have nothing to do.</p>` : ``} ${each(toDoList, (todo, index) => {
    return `${validate_component(ToDoItem, "ToDoItem").$$render($$result, { todo, index, removeToDo, editToDo }, {}, {})}`;
  })}</main> <div class="${escape(null_to_empty("enterToDo "), true) + " svelte-15gcum0"}"><input type="text" placeholder="Enter To-Do" class="svelte-15gcum0"${add_attribute("value", currToDo, 0)}> <button class="svelte-15gcum0" data-svelte-h="svelte-q0m24w">ADD</button></div></div>` : ``}`;
});
export {
  Page as default
};
